{% include "header.html" %}

<!--First row will contain the character image column, name race and class column and character traits column.-->
<section class="character-area light-bg">
  <div class="container-fluid">
    <div class="row character_top_row">
      <!--        Character Details  -->
      <div class="col-xl-5 col-lg-6">
        <div class="full-box border border-dark border-3">
          <img src="{{character.token}}" class="character_token">
          <div class="name-race-class">
          <h5 class="char-title">{{character.name}}</h5>
          <p class="char-text">{{character.race}} / {{character.character_class}}</p>
          </div>
        </div>
      </div>
      <div class="col-xl-3 col-lg-6">
        <div class="full-box border border-dark border-3 top-row-extra-margin">
          <div class="name-race-class character-player-details">
            <h5 class="char-title">Campaign</h5>
            <p class="char-text">{{character.campaign.title}}</p>
          </div>
          <div class="name-race-class character-player-details">
            <h5 class="char-title">Player</h5>
            <p class="char-text">{{character.player.username}}</p>
           </div>
          </div>
        </div>
      <div class="col-xl-4 col-lg-12 character_details">
        <div class="full-box border border-dark border-3 top-row-extra-margin">
<!--          This needs to change once the traits are split into seperate categories in the database.-->
          <p class="char-text char-extra-details"><b>Background:</b> Put the background jinja here later</p>
          <p class="char-text char-extra-details"><b>Alignment:</b> Put the alignment jinja here later</p>
          <p class="char-text char-extra-details"><b>Appearance:</b> Put the appearance jinja here later</p>
        </div>
      </div>
    </div>
    <div class="row">
      <!--        Character Stats       -->
      <div class="col-xl-3 col-lg-6 character-stats">
        <div class="row">
          <div class="col">
            <h4 class="character-heading char-title">Ability Scores</h4>
        <div class="ability-score border border-dark border-3">
          <h4 class="ability-heading">Strength</h4>
          <h4 class="ability-score-text">{{character.strength}}</h4>
        </div>
        <div class="ability-score border border-dark border-3">
          <h4 class="ability-heading">Dexterity</h4>
          <h4 class="ability-score-text">{{character.dexterity}}</h4>
        </div>
        <div class="ability-score border border-dark border-3">
          <h4 class="ability-heading">Constitution</h4>
          <h4 class="ability-score-text">{{character.constitution}}</h4>
        </div>
        <div class="ability-score border border-dark border-3">
          <h4 class="ability-heading">Intelligence</h4>
          <h4 class="ability-score-text">{{character.intelligence}}</h4>
        </div>
        <div class="ability-score border border-dark border-3">
          <h4 class="ability-heading">Wisdom</h4>
          <h4 class="ability-score-text">{{character.wisdom}}</h4>
        </div>
        <div class="ability-score border border-dark border-3">
          <h4 class="ability-heading">Charisma</h4>
          <h4 class="ability-score-text">{{character.charisma}}</h4>
        </div>
      </div>
    </div>
  </div>
<!--        Character Skill Scores          -->
      <div class="col-xl-3 col-lg-6">
        <div class="row">
          <div class="col">
            <h4 class="character-heading char-title">Skills and Bonuses</h4>
        <div class="row">
          <div class="col">
        <ul class="list-group list-group-flush skill-scores border border-dark border-3">
          <li class="list-group-item bg-transparent"><h5 class="skill-number">{% if character.acrobatics %}{{prof + ability_bonus(character.dexterity)}}{% else %}{{ability_bonus(character.dexterity)}}{% endif %}</h5><p class="ability-text">Acrobatics</p></li>
          <li class="list-group-item bg-transparent"><h5 class="skill-number">{% if character.animal_handling %}{{prof + ability_bonus(character.wisdom)}}{% else %}{{ability_bonus(character.wisdom)}}{% endif %}</h5><p class="ability-text">Animal Handling</p></li>
          <li class="list-group-item bg-transparent"><h5 class="skill-number">{% if character.arcana %}{{prof + ability_bonus(character.intelligence)}}{% else %}{{ability_bonus(character.intelligence)}}{% endif %}</h5><p class="ability-text">Arcana</p></li>
          <li class="list-group-item bg-transparent"><h5 class="skill-number">{% if character.athletics %}{{prof + ability_bonus(character.strength)}}{% else %}{{ability_bonus(character.strength)}}{% endif %}</h5><p class="ability-text">Athletics</p></li>
          <li class="list-group-item bg-transparent"><h5 class="skill-number">{% if character.deception %}{{prof + ability_bonus(character.charisma)}}{% else %}{{ability_bonus(character.charisma)}}{% endif %}</h5><p class="ability-text">Deception</p></li>
          <li class="list-group-item bg-transparent"><h5 class="skill-number">{% if character.history %}{{prof + ability_bonus(character.intelligence)}}{% else %}{{ability_bonus(character.intelligence)}}{% endif %}</h5><p class="ability-text">History</p></li>
          <li class="list-group-item bg-transparent"><h5 class="skill-number">{% if character.insight %}{{prof + ability_bonus(character.wisdom)}}{% else %}{{ability_bonus(character.wisdom)}}{% endif %}</h5><p class="ability-text">Insight</p></li>
          <li class="list-group-item bg-transparent"><h5 class="skill-number">{% if character.intimidation %}{{prof + ability_bonus(character.charisma)}}{% else %}{{ability_bonus(character.charisma)}}{% endif %}</h5><p class="ability-text">Intimidation</p></li>
          <li class="list-group-item bg-transparent"><h5 class="skill-number">{% if character.investigation %}{{prof + ability_bonus(character.intelligence)}}{% else %}{{ability_bonus(character.intelligence)}}{% endif %}</h5><p class="ability-text">Investigation</p></li>
          <li class="list-group-item bg-transparent"><h5 class="skill-number">{% if character.medicine %}{{prof + ability_bonus(character.wisdom)}}{% else %}{{ability_bonus(character.wisdom)}}{% endif %}</h5><p class="ability-text">Medicine</p></li>
          <li class="list-group-item bg-transparent"><h5 class="skill-number">{% if character.nature %}{{prof + ability_bonus(character.intelligence)}}{% else %}{{ability_bonus(character.intelligence)}}{% endif %}</h5><p class="ability-text">Nature</p></li>
          <li class="list-group-item bg-transparent"><h5 class="skill-number">{% if character.perception %}{{prof + ability_bonus(character.wisdom)}}{% else %}{{ability_bonus(character.wisdom)}}{% endif %}</h5><p class="ability-text">Perception</p></li>
          <li class="list-group-item bg-transparent"><h5 class="skill-number">{% if character.performance %}{{prof + ability_bonus(character.charisma)}}{% else %}{{ability_bonus(character.charisma)}}{% endif %}</h5><p class="ability-text">Performance</p></li>
          <li class="list-group-item bg-transparent"><h5 class="skill-number">{% if character.persuasion %}{{prof + ability_bonus(character.charisma)}}{% else %}{{ability_bonus(character.charisma)}}{% endif %}</h5><p class="ability-text">Persuasion</p></li>
          <li class="list-group-item bg-transparent"><h5 class="skill-number">{% if character.religion %}{{prof + ability_bonus(character.intelligence)}}{% else %}{{ability_bonus(character.intelligence)}}{% endif %}</h5><p class="ability-text">Religion</p></li>
          <li class="list-group-item bg-transparent"><h5 class="skill-number">{% if character.sleight_of_hand %}{{prof + ability_bonus(character.dexterity)}}{% else %}{{ability_bonus(character.dexterity)}}{% endif %}</h5><p class="ability-text">Sleight of Hand</p></li>
          <li class="list-group-item bg-transparent"><h5 class="skill-number">{% if character.stealth %}{{prof + ability_bonus(character.dexterity)}}{% else %}{{ability_bonus(character.dexterity)}}{% endif %}</h5><p class="ability-text">Stealth</p></li>
          <li class="list-group-item bg-transparent"><h5 class="skill-number">{% if character.survival %}{{prof + ability_bonus(character.wisdom)}}{% else %}{{ability_bonus(character.wisdom)}}{% endif %}</h5><p class="ability-text">Survival</p></li>
        </ul>
            </div>
      </div>
    </div>
    </div>
  </div>
<!--        Character AC / HP / Init / Prof Bonus / Senses / Proficiencies      -->
<div class="col-xl-6 col-lg-12">
  <div class="row">
    <div class="col">
      <h4 class="character-heading char-title">Character Stats and Senses</h4>
      <div class="row">
        <div class="col-6">
          <div class="character-text-centered border border-dark border-3">
            <h4 class="ability-heading">Armor Class</h4>
            <h4 class="ability-score-text">14</h4>
          </div>
          <div class="character-text-centered border border-dark border-3">
            <h4 class="ability-heading">Maximum HP / Current HP</h4>
            <h4 class="ability-score-text">35 / 35</h4>
          </div>
        </div>
        <div class="col-6">
          <div class="character-text-centered border border-dark border-3">
            <h4 class="ability-heading">Initiative Bonus</h4>
            <h4 class="ability-score-text">{{ability_bonus(character.dexterity)}}</h4>
          </div>
          <div class="character-text-centered border border-dark border-3">
            <h4 class="ability-heading">Proficiency Bonus</h4>
            <h4 class="ability-score-text">{{prof}}</h4>
          </div>
        </div>
      </div>
      <div class="row">
      <div class="col-xl-6 col-lg-12">
      <div class="character-senses border border-dark border-3">
        <h4 class="ability-heading">Senses</h4>
        {% if character.darkvision != 0 %}<p class="char-text sense-text"><b class="ability-sub-heading">Darkvision:</b> {{character.darkvision}} ft.</p>{% endif %}
        {% if character.blindsight != 0 %}<p class="char-text sense-text"><b class="ability-sub-heading">Blindsight:</b> {{character.blindsight}} ft.</p>{% endif %}
        {% if character.tremorsense != 0 %}<p class="char-text sense-text"><b class="ability-sub-heading">Tremorsense:</b> {{character.tremorsense}} ft.</p>{% endif %}
        {% if character.truesight != 0 %}<p class="char-text sense-text"><b class="ability-sub-heading">Truesight:</b> {{character.truesight}} ft.</p>{% endif %}
        <p class="char-text sense-text"><b class="ability-sub-heading">Passive Perception:</b> {% if character.perception %}{{10 + prof + ability_bonus(character.wisdom)}}{% else %}{{10 + ability_bonus(character.wisdom)}}{% endif %}</p>
        <p class="char-text sense-text"><b class="ability-sub-heading">Passive Insight:</b> {% if character.insight %}{{10 + prof + ability_bonus(character.wisdom)}}{% else %}{{10 + ability_bonus(character.wisdom)}}{% endif %}</p>
        <p class="char-text sense-text"><b class="ability-sub-heading">Passive Investigation:</b> {% if character.investigation %}{{10 + prof + ability_bonus(character.intelligence)}}{% else %}{{10 + ability_bonus(character.intelligence)}}{% endif %}</p>
        <p class="char-text sense-text"><b class="ability-sub-heading">Passive Stealth:</b> {% if character.stealth %}{{10 + prof + ability_bonus(character.dexterity)}}{% else %}{{10 + ability_bonus(character.dexterity)}}{% endif %}</p>
      </div>
      </div>
      <div class="col-xl-6 col-lg-12">
      <div class="character-senses border border-dark border-3">
        <h4 class="ability-heading">Proficiencies and Languages</h4>
        <p class="ability-sub-heading">Languages</p>
        <p>{{character.languages | safe}}</p>
        {% if character.tool_proficiencies %}
        <p class="ability-sub-heading">Tools</p>
        <p>{{character.tool_proficiencies | safe}}</p>
        {% endif %}
      </div>
      </div>
      </div>
    </div>
  </div>
</div>
</div>
<!--        Character Saving Throws     -->
    <div class="row" style="padding: 2% 0;">
      <div class="col-lg-12">
          <div class="col">
            <h4 class="character-heading char-title">Saving throws</h4>
            <div class="row">
              <div class="col-xl-4 col-lg-6">
                <div class="character-text-centered border border-dark border-3">
                <h4 class="ability-heading">Strength</h4>
                <h4 class="ability-score-text">{% if character.strength %}{{ ability_bonus(character.strength) + prof }}{% else %}{{ability_bonus(character.strength)}}{%endif%}</h4>
                </div>
              </div>
              <div class="col-xl-4 col-lg-6">
                <div class="character-text-centered border border-dark border-3">
                <h4 class="ability-heading">Dexterity</h4>
                <h4 class="ability-score-text">{% if character.dexterity %}{{ ability_bonus(character.dexterity) + prof }}{% else %}{{ability_bonus(character.dexterity)}}{%endif%}</h4>
              </div>
                </div>
              <div class="col-xl-4 col-lg-6">
                <div class="character-text-centered border border-dark border-3">
                <h4 class="ability-heading">Constitution</h4>
                <h4 class="ability-score-text">{% if character.constitution %}{{ ability_bonus(character.constitution) + prof }}{% else %}{{ability_bonus(character.constitution)}}{%endif%}</h4>
              </div>
                </div>
              <div class="col-xl-4 col-lg-6">
                <div class="character-text-centered border border-dark border-3">
                <h4 class="ability-heading">Wisdom</h4>
                <h4 class="ability-score-text">{% if character.wisdom %}{{ ability_bonus(character.wisdom) + prof }}{% else %}{{ability_bonus(character.wisdom)}}{%endif%}</h4>
              </div>
                </div>
              <div class="col-xl-4 col-lg-6">
                <div class="character-text-centered border border-dark border-3">
                <h4 class="ability-heading">Intelligence</h4>
                <h4 class="ability-score-text">{% if character.intelligence %}{{ ability_bonus(character.intelligence) + prof }}{% else %}{{ability_bonus(character.intelligence)}}{%endif%}</h4>
              </div>
                </div>
              <div class="col-xl-4 col-lg-6">
                <div class="character-text-centered border border-dark border-3">
                <h4 class="ability-heading">Charisma</h4>
                <h4 class="ability-score-text">{% if character.charisma %}{{ ability_bonus(character.charisma) + prof }}{% else %}{{ability_bonus(character.charisma)}}{%endif%}</h4>
              </div>
                </div>
            </div>

          </div>
        </div>
      </div>
        <div class="row">
          <div class="col-lg-6">
          <div class="character-personality border border-dark border-3">
            <h4 class="ability-heading">Personality Traits</h4>
            <p class="char-text">{{character.personality_traits | safe}}</p>
          </div>
          </div>
          <div class="col-lg-6">
          <div class="character-personality border border-dark border-3">
            <h4 class="ability-heading">Ideals</h4>
            <p class="char-text">{{character.ideals | safe}}</p>
          </div>
          </div>
          <div class="col-lg-6">
          <div class="character-personality border border-dark border-3">
            <h4 class="ability-heading">Bonds</h4>
            <p class="char-text">{{character.bonds | safe}}</p>
          </div>
          </div>
          <div class="col-lg-6">
          <div class="character-personality border border-dark border-3">
            <h4 class="ability-heading">Flaws</h4>
            <p class="char-text">{{character.flaws | safe}}</p>
          </div>
          </div>
        </div>
        </div>
<!--          Bootstrap tabs to show various information about the characters    -->
      <div class="row character-navi">
        <div class="col">
          <ul class="nav nav-tabs border border-dark border-3 border-bottom-0" id="myTab" role="tablist">
            <li class="nav-item char-nav-item border-bottom border-end border-dark" role="presentation">
              <button class="nav-link active character-navi-button" style="padding-left: 0; padding-right: 0;" id="actions-tab" data-bs-toggle="tab" data-bs-target="#actions" type="button" role="tab" aria-controls="actions" aria-selected="true">Actions</button>
            </li>
            <li class="nav-item char-nav-item border-bottom border-end border-dark" role="presentation">
              <button class="nav-link character-navi-button" style="padding-left: 0; padding-right: 0;" id="spells-tab" data-bs-toggle="tab" data-bs-target="#spells" type="button" role="tab" aria-controls="spells" aria-selected="false">Spells</button>
            </li>
            <li class="nav-item char-nav-item border-bottom border-end border-dark" role="presentation">
              <button class="nav-link character-navi-button" style="padding-left: 0; padding-right: 0;" id="inventory-tab" data-bs-toggle="tab" data-bs-target="#inventory" type="button" role="tab" aria-controls="inventory" aria-selected="false">Inventory</button>
            </li>
            <li class="nav-item char-nav-item border-bottom border-end border-dark" role="presentation">
              <button class="nav-link character-navi-button" style="padding-left: 0; padding-right: 0;" id="backstory-tab" data-bs-toggle="tab" data-bs-target="#backstory" type="button" role="tab" aria-controls="backstory" aria-selected="false">Backstory</button>
            </li>
            <li class="nav-item char-nav-item border-bottom border-dark" role="presentation">
              <button class="nav-link character-navi-button" style="padding-left: 0; padding-right: 0;" id="description-tab" data-bs-toggle="tab" data-bs-target="#description" type="button" role="tab" aria-controls="description" aria-selected="false">Description</button>
            </li>
            <li class="nav-item char-nav-item border-end border-dark" role="presentation">
              <button class="nav-link character-navi-button" style="padding-left: 0; padding-right: 0;" id="notes-tab" data-bs-toggle="tab" data-bs-target="#notes" type="button" role="tab" aria-controls="notes" aria-selected="false">Notes</button>
            </li>
            <li class="nav-item char-nav-item border-end border-dark" role="presentation">
              <button class="nav-link character-navi-button" style="padding-left: 0; padding-right: 0;" id="traits-and-features-tab" data-bs-toggle="tab" data-bs-target="#traits-and-features" type="button" role="tab" aria-controls="traits-and-features" aria-selected="false">Features</button>
            </li>
          </ul>
            <div class="tab-content border border-dark border-3" id="myTabContent">

              <div class="tab-pane fade show active" id="actions" role="tabpanel" aria-labelledby="actions-tab">
                <h5 class="ability-heading">My Actions:</h5>
                <p>{{character.actions | safe}}</p>
              </div>
              <div class="tab-pane fade" id="spells" role="tabpanel" aria-labelledby="spells-tab">
                <h5 class="ability-heading">My Spells:</h5>
              </div>
              <div class="tab-pane fade" id="inventory" role="tabpanel" aria-labelledby="inventory-tab">
                <h5 class="ability-heading">My Inventory:</h5>
                <p>{{character.inventory | safe}}</p>
              </div>
              <div class="tab-pane fade" id="backstory" role="tabpanel" aria-labelledby="backstory-tab">
                <h5 class="ability-heading">Backstory:</h5>
                <p>{{character.backstory | safe}}</p>
              </div>
              <div class="tab-pane fade" id="description" role="tabpanel" aria-labelledby="description-tab">
                <h5 class="ability-heading">Character Description:</h5>
                <p>{{character.description | safe}}</p>
              </div>
              <div class="tab-pane fade" id="notes" role="tabpanel" aria-labelledby="notes-tab">
                <h5 class="ability-heading">Character Notes:</h5>
                <p>{{character.notes | safe}}</p>
              </div>
              <div class="tab-pane fade" id="traits-and-features" role="tabpanel" aria-labelledby="traits-and-features-tab">
                <h5 class="ability-heading">Character Traits and Features:</h5>
              </div>
            </div>
        </div>
      </div>
    </div>
  </div>
</div>
</section>

{% include "footer.html" %}